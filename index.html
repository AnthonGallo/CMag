<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>✨ El Universo de Wilmagy ✨</title>
  <style>
    /* RESET Y VARIABLES */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    :root {
      --primary: #6a5acd;
      --secondary: #9370db;
      --accent: #ffd700;
      --accent2: #ff69b4;
      --accent3: #20b2aa;
      --text-light: #ffffff;
      --text-dark: #2c2c54;
      --shadow: 0 10px 30px rgba(0,0,0,0.2);
      --shadow-light: 0 5px 15px rgba(0,0,0,0.1);
      --transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      --transition-fast: all 0.2s ease;
      --border-radius: 20px;
      --container-padding: clamp(15px, 4vw, 30px);
      --section-spacing: clamp(30px, 6vw, 60px);
    }
    
    /* ESTILOS GENERALES */
    body {
      font-family: 'Arial', sans-serif;
      margin: 0;
      padding: 0;
      background: #000;
      min-height: 100vh;
      overflow-x: hidden;
      scroll-behavior: smooth;
      cursor: default;
      color: var(--text-light);
      line-height: 1.6;
    }
    
    /* FONDO DEL UNIVERSO */
    .universe-background {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      background: radial-gradient(ellipse at center, #0a0e2a 0%, #000000 70%);
    }
    
    /* PARTÍCULAS CÓSMICAS */
    .cosmic-particles {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 1;
      overflow: hidden;
    }
    
    .particle {
      position: absolute;
      color: var(--accent);
      font-size: clamp(8px, 2vw, 12px);
      animation: float 6s ease-in-out infinite;
      opacity: 0.8;
      z-index: 1;
      text-shadow: 0 0 10px currentColor;
    }
    
    @keyframes float {
      0%, 100% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
      10% { opacity: 1; }
      90% { opacity: 1; }
      100% { transform: translateY(-100px) rotate(360deg); opacity: 0; }
    }
    
    /* SISTEMA DE PANTALLAS */
    .screen {
      min-height: 100vh;
      padding: var(--container-padding);
      position: relative;
      z-index: 2;
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.8s ease, transform 0.8s ease;
      display: none;
      overflow: hidden;
      color: var(--text-light);
      width: 100%;
    }
    
    .screen.active {
      opacity: 1;
      transform: translateY(0);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      animation: screenFadeIn 0.8s ease-out;
    }
    
    @keyframes screenFadeIn {
      0% { opacity: 0; transform: translateY(20px); }
      100% { opacity: 1; transform: translateY(0); }
    }
    
    /* PANTALLA DE BIENVENIDA */
    .welcome-screen {
      text-align: center;
      background: rgba(0, 0, 0, 0.5);
      backdrop-filter: blur(10px);
    }
    
    .welcome-title {
      font-size: clamp(2.5rem, 8vw, 5rem);
      margin-bottom: clamp(15px, 4vw, 25px);
      text-shadow: 0 0 30px rgba(255,215,0,0.8);
      animation: titleGlow 3s ease-in-out infinite alternate;
      background: linear-gradient(45deg, #ffd700, #ff69b4, #20b2aa, #9370db);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      font-family: 'Dancing Script', cursive;
      position: relative;
      line-height: 1.2;
    }
    
    .welcome-title::after {
      content: '';
      position: absolute;
      bottom: -10px;
      left: 50%;
      transform: translateX(-50%);
      width: 100px;
      height: 3px;
      background: linear-gradient(90deg, transparent, var(--accent), transparent);
      animation: shimmer 2s infinite;
    }
    
    @keyframes titleGlow {
      0% { transform: scale(1); text-shadow: 0 0 20px rgba(255,215,0,0.5); }
      100% { transform: scale(1.05); text-shadow: 0 0 40px rgba(255,215,0,1); }
    }
    
    @keyframes shimmer {
      0%, 100% { opacity: 0.5; }
      50% { opacity: 1; }
    }
    
    .subtitle {
      font-size: clamp(1.2rem, 4vw, 2rem);
      margin-bottom: clamp(20px, 5vw, 35px);
      text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
      opacity: 0;
      animation: fadeInUp 2s ease forwards 1s;
      font-family: 'Dancing Script', cursive;
      max-width: 90%;
      line-height: 1.4;
      padding: 0 10px;
    }
    
    @keyframes fadeInUp {
      0% { opacity: 0; transform: translateY(30px); }
      100% { opacity: 1; transform: translateY(0); }
    }
    
    .start-button {
      background: linear-gradient(145deg, #ff69b4, #ffa500, #ffd700);
      color: var(--text-light);
      border: none;
      padding: clamp(12px, 3vw, 15px) clamp(30px, 5vw, 40px);
      font-size: clamp(1rem, 3vw, 1.5rem);
      font-weight: bold;
      border-radius: 50px;
      cursor: pointer;
      transition: var(--transition);
      box-shadow: var(--shadow);
      text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
      opacity: 0;
      animation: fadeInUp 2s ease forwards 2s;
      position: relative;
      overflow: hidden;
      font-family: 'Dancing Script', cursive;
      z-index: 10;
      min-width: 200px;
      max-width: 90%;
    }
    
    .start-button::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
      transition: left 0.5s;
    }
    
    .start-button:hover {
      transform: translateY(-5px) scale(1.05);
      box-shadow: 0 15px 40px rgba(255,105,180,0.6);
    }
    
    .start-button:hover::before {
      left: 100%;
    }
    
    /* PANTALLA DEL UNIVERSO MAGY - MEJORADA */
    .universe-screen {
      background: transparent;
      text-align: center;
      justify-content: center;
      padding: var(--section-spacing);
    }
    
    .universe-content {
      max-width: 900px;
      width: 95%;
      z-index: 10;
      position: relative;
      background: rgba(0, 0, 0, 0.7);
      backdrop-filter: blur(15px);
      border-radius: var(--border-radius);
      padding: clamp(25px, 5vw, 40px);
      border: 2px solid rgba(255, 215, 0, 0.3);
      margin: 0 auto;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
      overflow: hidden;
    }
    
    .universe-content::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: radial-gradient(circle at 20% 50%, rgba(255, 215, 0, 0.1) 0%, transparent 50%),
                  radial-gradient(circle at 80% 20%, rgba(255, 105, 180, 0.1) 0%, transparent 50%),
                  radial-gradient(circle at 40% 80%, rgba(32, 178, 170, 0.1) 0%, transparent 50%);
      z-index: -1;
    }
    
    .stars-background {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 1;
    }
    
    .star {
      position: absolute;
      background: white;
      width: 2px;
      height: 2px;
      border-radius: 50%;
      animation: twinkle 4s ease-in-out infinite;
    }
    
    @keyframes twinkle {
      0%, 100% { opacity: 0.3; transform: scale(1); }
      50% { opacity: 1; transform: scale(1.5); }
    }
    
    .cosmic-title {
      font-size: clamp(2rem, 6vw, 3.5rem);
      margin-bottom: clamp(25px, 5vw, 40px);
      text-shadow: 0 0 30px rgba(255,255,255,0.8);
      animation: cosmicPulse 4s ease-in-out infinite;
      font-family: 'Dancing Script', cursive;
      position: relative;
      line-height: 1.2;
      padding: 0 10px;
    }
    
    @keyframes cosmicPulse {
      0%, 100% { color: #ffffff; }
      25% { color: #ffd700; }
      50% { color: #ff69b4; }
      75% { color: #20b2aa; }
    }
    
    .universe-poem {
      background: rgba(255,255,255,0.1);
      backdrop-filter: blur(15px);
      border-radius: var(--border-radius);
      padding: clamp(20px, 4vw, 30px);
      margin: clamp(20px, 4vw, 30px) 0;
      border: 2px solid rgba(255,215,0,0.3);
      font-size: clamp(1rem, 2.5vw, 1.3rem);
      line-height: 1.7;
      text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
      font-family: 'Dancing Script', cursive;
      transition: var(--transition);
      position: relative;
      overflow: hidden;
      text-align: center;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
    }
    
    .universe-poem::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
      transition: left 0.6s;
    }
    
    .universe-poem:hover::before {
      left: 100%;
    }
    
    .next-button {
      background: linear-gradient(145deg, #20b2aa, #2e8b57);
      color: var(--text-light);
      border: none;
      padding: clamp(12px, 2.5vw, 15px) clamp(25px, 4vw, 30px);
      font-size: clamp(1rem, 2.5vw, 1.3rem);
      font-weight: bold;
      border-radius: 30px;
      cursor: pointer;
      margin-top: clamp(20px, 4vw, 30px);
      transition: var(--transition);
      box-shadow: 0 8px 25px rgba(32,178,170,0.4);
      position: relative;
      overflow: hidden;
      font-family: 'Dancing Script', cursive;
      min-width: 220px;
      max-width: 90%;
    }
    
    .next-button::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
      transition: left 0.5s;
    }
    
    .next-button:hover {
      transform: translateY(-3px) scale(1.05);
      box-shadow: 0 12px 30px rgba(32,178,170,0.6);
    }
    
    .next-button:hover::before {
      left: 100%;
    }
    
    /* GALERÍA DE CONSTELACIONES */
    .constellation-screen {
      background: transparent;
      padding: var(--section-spacing);
      justify-content: center;
    }
    
    .constellation-title {
      text-align: center;
      font-size: clamp(1.8rem, 5vw, 3rem);
      margin-bottom: clamp(30px, 6vw, 50px);
      color: #ffd700;
      font-family: 'Dancing Script', cursive;
      text-shadow: 0 0 20px rgba(255,215,0,0.5);
      line-height: 1.2;
      padding: 0 15px;
    }
    
    .constellation-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(min(300px, 90vw), 1fr));
      gap: clamp(20px, 4vw, 30px);
      max-width: 1200px;
      width: 95%;
      margin: 0 auto clamp(30px, 6vw, 50px) auto;
    }
    
    .constellation-card {
      background: rgba(255,255,255,0.1);
      backdrop-filter: blur(20px);
      border-radius: var(--border-radius);
      padding: clamp(20px, 4vw, 30px);
      border: 2px solid rgba(255,215,0,0.3);
      transition: var(--transition);
      cursor: pointer;
      position: relative;
      overflow: hidden;
      min-height: 280px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
    }
    
    .constellation-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: radial-gradient(circle at center, rgba(255,215,0,0.1) 0%, transparent 70%);
      opacity: 0;
      transition: opacity 0.3s;
    }
    
    .constellation-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 15px 35px rgba(255,215,0,0.3);
      border-color: rgba(255,215,0,0.8);
    }
    
    .constellation-card:hover::before {
      opacity: 1;
    }
    
    .constellation-icon {
      font-size: clamp(3rem, 7vw, 4rem);
      text-align: center;
      margin-bottom: clamp(15px, 3vw, 20px);
      animation: starPulse 3s ease-in-out infinite;
    }
    
    @keyframes starPulse {
      0%, 100% { transform: scale(1); filter: brightness(1); }
      50% { transform: scale(1.1); filter: brightness(1.3); }
    }
    
    .constellation-card-title {
      font-size: clamp(1.3rem, 3.5vw, 1.6rem);
      color: #ffd700;
      margin-bottom: clamp(12px, 2.5vw, 15px);
      text-align: center;
      font-family: 'Dancing Script', cursive;
      font-weight: bold;
    }
    
    .constellation-description {
      font-size: clamp(0.9rem, 2.2vw, 1.1rem);
      line-height: 1.6;
      text-align: center;
      opacity: 0.9;
    }
    
    /* FOTO - PARTE CENTRAL */
    .photo-screen {
      background: transparent;
      text-align: center;
      justify-content: center;
      padding: var(--section-spacing);
    }
    
    .photo-title {
      font-size: clamp(1.8rem, 5vw, 3rem);
      margin-bottom: clamp(25px, 5vw, 40px);
      text-shadow: 0 0 20px rgba(255,215,0,0.8);
      animation: titleShimmer 3s ease-in-out infinite;
      font-family: 'Dancing Script', cursive;
      line-height: 1.2;
      padding: 0 15px;
    }
    
    @keyframes titleShimmer {
      0%, 100% { color: #ffffff; }
      50% { color: #ffd700; }
    }
    
    .magic-photo-container {
      position: relative;
      max-width: 500px;
      width: 95%;
      margin: clamp(25px, 5vw, 40px) 0;
    }
    
    .photo-frame {
      width: 100%;
      max-width: min(400px, 80vw);
      height: min(400px, 80vw);
      border-radius: 50%;
      border: 6px solid var(--accent);
      overflow: hidden;
      position: relative;
      box-shadow: 0 0 60px rgba(255,215,0,0.7);
      animation: photoFloat 6s ease-in-out infinite;
      margin: 0 auto;
      transition: var(--transition);
    }
    
    @keyframes photoFloat {
      0%, 100% { transform: translateY(0) rotate(0deg); }
      50% { transform: translateY(-15px) rotate(3deg); }
    }
    
    .magic-photo {
      width: 100%;
      height: 100%;
      object-fit: cover;
      filter: brightness(1.1) contrast(1.1);
      transition: var(--transition);
    }
    
    .photo-frame:hover .magic-photo {
      filter: brightness(1.2) contrast(1.1) saturate(1.1);
      transform: scale(1.05);
    }
    
    .photo-sparkles {
      position: absolute;
      top: -30px;
      left: -30px;
      width: calc(100% + 60px);
      height: calc(100% + 60px);
      pointer-events: none;
    }
    
    .photo-sparkle {
      position: absolute;
      color: var(--accent);
      font-size: clamp(14px, 3vw, 18px);
      animation: sparkleOrbit 8s linear infinite;
    }
    
    @keyframes sparkleOrbit {
      0% { transform: rotate(0deg) translateX(180px) rotate(0deg); }
      100% { transform: rotate(360deg) translateX(180px) rotate(-360deg); }
    }
    
    .photo-description {
      font-size: clamp(1rem, 2.5vw, 1.3rem);
      max-width: 700px;
      width: 95%;
      margin: 0 auto;
      line-height: 1.6;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
      padding: 0 15px;
    }
    
    /* ESCRITOS ESPECIALES */
    .writings-screen {
      background: transparent;
      padding: var(--section-spacing);
      justify-content: center;
    }
    
    .writings-container {
      max-width: 1000px;
      width: 95%;
      margin: 0 auto;
    }
    
    .writings-title {
      text-align: center;
      font-size: clamp(1.8rem, 5vw, 3rem);
      margin-bottom: clamp(30px, 6vw, 50px);
      color: #ff69b4;
      font-family: 'Dancing Script', cursive;
      line-height: 1.2;
      padding: 0 15px;
    }
    
    .writing-card {
      background: rgba(255,255,255,0.1);
      border-radius: var(--border-radius);
      padding: clamp(25px, 4vw, 35px);
      margin: clamp(20px, 4vw, 30px) 0;
      box-shadow: var(--shadow);
      border-left: 5px solid #ff69b4;
      transition: var(--transition);
      position: relative;
      overflow: hidden;
      backdrop-filter: blur(10px);
    }
    
    .writing-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.5), transparent);
      transition: left 0.6s;
    }
    
    .writing-card:hover::before {
      left: 100%;
    }
    
    .writing-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 30px rgba(0,0,0,0.15);
    }
    
    .writing-title {
      font-size: clamp(1.4rem, 3.5vw, 1.8rem);
      color: #ff69b4;
      margin-bottom: clamp(15px, 3vw, 20px);
      text-align: center;
      font-family: 'Dancing Script', cursive;
      font-weight: bold;
    }
    
    .writing-content {
      font-size: clamp(1rem, 2.2vw, 1.1rem);
      line-height: 1.7;
      text-align: justify;
      white-space: pre-line;
    }
    
    .poem-card {
      background: linear-gradient(145deg, rgba(255,105,180,0.1), rgba(32,178,170,0.1));
      border-left: 5px solid #20b2aa;
    }
    
    .poem-card .writing-title {
      color: #20b2aa;
    }
    
    /* RECUERDOS VIRTUALES - 4 ELEMENTOS */
    .memories-screen {
      background: transparent;
      padding: var(--section-spacing);
      display: flex;
      flex-direction: column;
      justify-content: center;
    }
    
    .memories-container {
      max-width: 1100px;
      width: 95%;
      margin: 0 auto;
    }
    
    .memories-title {
      text-align: center;
      font-size: clamp(1.8rem, 5vw, 3rem);
      margin-bottom: clamp(35px, 7vw, 60px);
      color: var(--accent);
      font-family: 'Dancing Script', cursive;
      line-height: 1.2;
      padding: 0 15px;
    }
    
    .memory-timeline {
      position: relative;
      max-width: 900px;
      margin: 0 auto;
    }
    
    .memory-timeline::before {
      content: '';
      position: absolute;
      left: 50%;
      top: 0;
      bottom: 0;
      width: 4px;
      background: linear-gradient(to bottom, var(--accent), var(--accent2), var(--accent3));
      transform: translateX(-50%);
      box-shadow: 0 0 10px var(--accent);
    }
    
    .memory-item {
      position: relative;
      margin-bottom: clamp(30px, 5vw, 50px);
      width: 45%;
      padding: clamp(20px, 3vw, 25px);
      background: rgba(255,255,255,0.1);
      border-radius: 15px;
      backdrop-filter: blur(10px);
      transition: var(--transition);
      cursor: pointer;
      box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    }
    
    .memory-item:hover {
      transform: translateY(-8px);
      background: rgba(255,255,255,0.15);
      box-shadow: 0 10px 20px rgba(0,0,0,0.3);
    }
    
    .memory-item:nth-child(odd) {
      left: 0;
    }
    
    .memory-item:nth-child(even) {
      left: 55%;
    }
    
    .memory-item::before {
      content: '';
      position: absolute;
      top: 25px;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: var(--accent);
      box-shadow: 0 0 10px var(--accent);
      transition: var(--transition);
    }
    
    .memory-item:hover::before {
      transform: scale(1.2);
      box-shadow: 0 0 15px var(--accent);
    }
    
    .memory-item:nth-child(odd)::before {
      right: -52px;
    }
    
    .memory-item:nth-child(even)::before {
      left: -52px;
    }
    
    .memory-date {
      font-size: clamp(1.1rem, 2.8vw, 1.3rem);
      color: var(--accent);
      margin-bottom: clamp(10px, 2vw, 12px);
      font-weight: bold;
      font-family: 'Dancing Script', cursive;
    }
    
    .memory-content {
      font-size: clamp(0.9rem, 2.2vw, 1.1rem);
      line-height: 1.6;
    }
    
    /* MENSAJES INTERACTIVOS */
    .messages-screen {
      background: transparent;
      padding: var(--section-spacing);
      justify-content: center;
    }
    
    .messages-title {
      text-align: center;
      font-size: clamp(1.8rem, 5vw, 3rem);
      margin-bottom: clamp(30px, 6vw, 50px);
      color: #ffd700;
      font-family: 'Dancing Script', cursive;
      line-height: 1.2;
      padding: 0 15px;
    }
    
    .message-selector {
      display: flex;
      flex-wrap: wrap;
      gap: clamp(12px, 2.5vw, 15px);
      justify-content: center;
      margin-bottom: clamp(25px, 5vw, 40px);
    }
    
    .message-button {
      background: rgba(255,255,255,0.2);
      border: 2px solid rgba(255,215,0,0.5);
      color: var(--text-light);
      padding: clamp(12px, 2.5vw, 14px) clamp(18px, 3.5vw, 22px);
      border-radius: 25px;
      cursor: pointer;
      transition: var(--transition);
      font-size: clamp(0.9rem, 2.2vw, 1rem);
      backdrop-filter: blur(10px);
      position: relative;
      overflow: hidden;
      min-width: 140px;
    }
    
    .message-button::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
      transition: left 0.5s;
    }
    
    .message-button:hover::before, .message-button.active::before {
      left: 100%;
    }
    
    .message-button:hover, .message-button.active {
      background: rgba(255,215,0,0.3);
      border-color: var(--accent);
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(255,215,0,0.3);
    }
    
    .message-display {
      background: rgba(255,255,255,0.1);
      backdrop-filter: blur(20px);
      border-radius: var(--border-radius);
      padding: clamp(25px, 4vw, 35px);
      min-height: 220px;
      text-align: center;
      font-size: clamp(1.1rem, 2.5vw, 1.3rem);
      line-height: 1.6;
      border: 2px solid rgba(255,215,0,0.3);
      transition: var(--transition);
      width: 95%;
      max-width: 800px;
      margin: 0 auto;
      position: relative;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      justify-content: center;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
    }
    
    .message-display::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
      transition: left 0.6s;
    }
    
    .message-display:hover::before {
      left: 100%;
    }
    
    /* PANTALLA FINAL */
    .final-screen {
      background: transparent;
      text-align: center;
      justify-content: center;
      padding: var(--section-spacing);
    }
    
    .final-content {
      background: rgba(255,255,255,0.1);
      backdrop-filter: blur(20px);
      border-radius: var(--border-radius);
      padding: clamp(30px, 5vw, 45px);
      max-width: 900px;
      width: 95%;
      margin: clamp(20px, 4vw, 30px) auto;
      border: 2px solid rgba(255,215,0,0.5);
      position: relative;
      overflow: hidden;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
    }
    
    .final-content::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
      transition: left 0.6s;
    }
    
    .final-content:hover::before {
      left: 100%;
    }
    
    .final-title {
      font-size: clamp(2rem, 6vw, 4rem);
      margin-bottom: clamp(20px, 4vw, 30px);
      text-shadow: 0 0 30px rgba(255,215,0,0.8);
      animation: finalGlow 3s ease-in-out infinite;
      font-family: 'Dancing Script', cursive;
      line-height: 1.2;
    }
    
    @keyframes finalGlow {
      0%, 100% { 
        transform: scale(1); 
        text-shadow: 0 0 30px rgba(255,215,0,0.8), 0 0 60px rgba(255,105,180,0.4); 
      }
      50% { 
        transform: scale(1.05); 
        text-shadow: 0 0 50px rgba(255,215,0,1), 0 0 80px rgba(255,105,180,0.6), 0 0 100px rgba(32,178,170,0.4); 
      }
    }
    
    .final-text {
      font-size: clamp(1.1rem, 2.8vw, 1.6rem);
      line-height: 1.7;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
      margin-bottom: clamp(15px, 3vw, 20px);
    }
    
    .final-highlight {
      font-size: clamp(1.3rem, 3.5vw, 2rem);
      margin: clamp(20px, 4vw, 30px) 0;
      color: var(--accent);
      text-shadow: 0 0 20px rgba(255,215,0,0.8);
      font-family: 'Dancing Script', cursive;
      font-weight: bold;
    }
    
    .final-signature {
      font-family: 'Dancing Script', cursive;
      font-size: clamp(1.6rem, 4.5vw, 2.8rem);
      margin-top: clamp(25px, 5vw, 40px);
      animation: heartbeat 2s ease-in-out infinite;
    }
    
    @keyframes heartbeat {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }
    
    /* PANTALLA: UNIVERSO */
    .universe-real-screen {
      background: transparent;
      text-align: center;
      overflow: hidden;
      position: relative;
      padding: 0;
    }
    
    .universe-canvas-container {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 1;
    }
    
    .universe-canvas {
      width: 100%;
      height: 100%;
      display: block;
    }
    
    .universe-title {
      position: absolute;
      top: 20px;
      left: 0;
      width: 100%;
      text-align: center;
      z-index: 3;
      font-size: clamp(2rem, 6vw, 4rem);
      color: #ffd700;
      text-shadow: 0 0 20px rgba(255,215,0,0.8);
      font-family: 'Dancing Script', cursive;
      padding: 10px 20px;
      animation: titleGlow 3s ease-in-out infinite alternate;
      background: transparent;
      backdrop-filter: none;
    }
    
    /* BARRA DE NAVEGACIÓN */
    .nav-toggle {
      position: fixed;
      top: clamp(15px, 3vw, 25px);
      left: clamp(15px, 3vw, 25px);
      z-index: 1001;
      background: rgba(0,0,0,0.7);
      backdrop-filter: blur(10px);
      border-radius: 50%;
      width: clamp(45px, 9vw, 60px);
      height: clamp(45px, 9vw, 60px);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      border: 2px solid rgba(255,215,0,0.5);
      transition: var(--transition);
    }
    
    .nav-toggle:hover {
      transform: scale(1.1);
      border-color: var(--accent);
      background: rgba(0,0,0,0.9);
    }
    
    .nav-toggle-icon {
      font-size: clamp(1.3rem, 3.5vw, 1.8rem);
      color: var(--accent);
      transition: var(--transition);
    }
    
    .nav-menu {
      position: fixed;
      top: 0;
      left: -320px;
      width: min(300px, 85vw);
      height: 100%;
      background: rgba(0,0,0,0.9);
      backdrop-filter: blur(20px);
      z-index: 1000;
      transition: var(--transition);
      padding: 90px 25px 25px 25px;
      box-shadow: 5px 0 15px rgba(0,0,0,0.5);
      border-right: 2px solid rgba(255,215,0,0.3);
    }
    
    .nav-menu.active {
      left: 0;
    }
    
    .nav-menu-item {
      display: block;
      width: 100%;
      padding: clamp(14px, 3vw, 18px);
      margin-bottom: 12px;
      background: rgba(255,255,255,0.1);
      border: 2px solid rgba(255,215,0,0.3);
      border-radius: 12px;
      color: var(--text-light);
      text-align: center;
      cursor: pointer;
      transition: var(--transition);
      font-family: 'Dancing Script', cursive;
      font-size: clamp(1.1rem, 2.8vw, 1.4rem);
    }
    
    .nav-menu-item:hover {
      background: rgba(255,215,0,0.2);
      transform: translateX(5px);
    }
    
    .nav-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.5);
      z-index: 999;
      opacity: 0;
      visibility: hidden;
      transition: var(--transition);
    }
    
    .nav-overlay.active {
      opacity: 1;
      visibility: visible;
    }
    
    /* CONTROL DE MÚSICA */
    .music-control {
      position: fixed;
      top: clamp(15px, 3vw, 25px);
      right: clamp(15px, 3vw, 25px);
      z-index: 1000;
      background: rgba(0,0,0,0.5);
      backdrop-filter: blur(10px);
      border-radius: 50%;
      width: clamp(40px, 8vw, 55px);
      height: clamp(40px, 8vw, 55px);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      border: 2px solid rgba(255,215,0,0.5);
      transition: var(--transition);
    }
    
    .music-control:hover {
      transform: scale(1.1);
      border-color: var(--accent);
      background: rgba(0,0,0,0.7);
    }
    
    .music-icon {
      font-size: clamp(1.1rem, 2.8vw, 1.5rem);
      color: var(--accent);
    }
    
    /* EFECTOS ESPECIALES */
    @keyframes messageAppear {
      0% { opacity: 0; transform: translateY(10px); }
      100% { opacity: 1; transform: translateY(0); }
    }
    
    @keyframes fadeIn {
      0% { opacity: 0; }
      100% { opacity: 1; }
    }
    
    /* RESPONSIVIDAD */
    
    /* MÓVILES PEQUEÑOS (hasta 480px) */
    @media (max-width: 480px) {
      .screen {
        padding: 12px;
        padding-top: 70px;
        padding-bottom: 80px;
      }
      
      .photo-frame {
        height: min(280px, 75vw);
        max-width: min(280px, 75vw);
      }
      
      .memory-item {
        padding: 15px;
        width: calc(100% - 45px);
        left: 45px !important;
      }
      
      .writing-card {
        padding: 18px;
      }
      
      .message-selector {
        flex-direction: column;
        align-items: center;
      }
      
      .message-button {
        width: 100%;
        max-width: 220px;
      }
      
      .constellation-grid {
        grid-template-columns: 1fr;
        gap: 15px;
      }
      
      .nav-menu {
        width: 85vw;
        left: -85vw;
      }
      
      .universe-content, .final-content {
        padding: 20px;
      }
    }
    
    /* MÓVILES (hasta 768px) */
    @media (max-width: 768px) {
      .screen {
        padding: 15px;
        padding-top: 80px;
        padding-bottom: 90px;
        justify-content: flex-start;
      }
      
      .memory-timeline::before {
        left: 25px;
      }
      
      .memory-item {
        width: calc(100% - 55px);
        left: 55px !important;
        margin-bottom: 30px;
      }
      
      .memory-item::before {
        left: -45px !important;
      }
      
      .constellation-grid {
        grid-template-columns: 1fr;
        gap: 20px;
      }
      
      .photo-frame {
        height: min(320px, 80vw);
        max-width: min(320px, 80vw);
      }
      
      .message-selector {
        flex-direction: column;
        align-items: center;
      }
      
      .message-button {
        width: 100%;
        max-width: 240px;
      }
      
      .universe-title {
        top: 15px;
        font-size: clamp(1.6rem, 5vw, 3rem);
      }
      
      .nav-toggle {
        top: 15px;
        left: 15px;
        width: 50px;
        height: 50px;
      }
      
      .nav-toggle-icon {
        font-size: 1.4rem;
      }
      
      .nav-menu {
        width: 280px;
        left: -280px;
      }
      
      .writing-content {
        text-align: left;
        font-size: 1rem;
      }
    }
    
    /* TABLETS (769px a 1024px) */
    @media (min-width: 769px) and (max-width: 1024px) {
      .constellation-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 25px;
      }
      
      .memory-item {
        width: 44%;
      }
      
      .memory-item:nth-child(even) {
        left: 56%;
      }
      
      .photo-frame {
        height: min(350px, 65vw);
        max-width: min(350px, 65vw);
      }
    }
    
    /* ESCRITORIOS PEQUEÑOS (1025px a 1200px) */
    @media (min-width: 1025px) and (max-width: 1200px) {
      .constellation-grid {
        grid-template-columns: repeat(3, 1fr);
      }
    }
    
    /* ESCRITORIOS GRANDES (más de 1200px) */
    @media (min-width: 1201px) {
      .constellation-grid {
        grid-template-columns: repeat(3, 1fr);
        gap: 30px;
      }
    }
    
    /* ORIENTACIÓN */
    @media (max-height: 500px) and (orientation: landscape) {
      .screen {
        padding-top: 80px;
        padding-bottom: 70px;
        min-height: 100vh;
      }
      
      .welcome-title {
        font-size: clamp(2rem, 6vh, 3rem);
        margin-bottom: 15px;
      }
      
      .subtitle {
        font-size: clamp(1rem, 3vh, 1.5rem);
        margin-bottom: 20px;
      }
      
      .start-button {
        padding: 10px 30px;
        font-size: 1.1rem;
      }
    }
    
    /* EFECTO DE TEXTO MÁGICO */
    .magic-text {
      background: linear-gradient(45deg, #ff69b4, #ffa500, #ffd700, #20b2aa, #9370db);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      background-size: 200% 200%;
      animation: gradientText 5s ease infinite;
    }
    
    @keyframes gradientText {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    
    /* ACCESIBILIDAD */
    @media (prefers-reduced-motion: reduce) {
      * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
    }
  </style>
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
  <!-- FONDO DEL UNIVERSO -->
  <div class="universe-background"></div>

  <!-- PARTÍCULAS CÓSMICAS -->
  <div class="cosmic-particles"></div>

  <!-- CONTROL DE MÚSICA -->
  <div class="music-control" id="musicControl">
    <div class="music-icon">🎵</div>
  </div>

  <!-- BARRA DE NAVEGACIÓN -->
  <div class="nav-toggle" id="navToggle">
    <div class="nav-toggle-icon">☰</div>
  </div>
  
  <div class="nav-menu" id="navMenu">
    <button class="nav-menu-item" onclick="goHome()">🏠 Inicio</button>
    <button class="nav-menu-item" onclick="previousScreen()">← Anterior</button>
    <button class="nav-menu-item" onclick="nextScreen()">→ Siguiente</button>
    <button class="nav-menu-item" onclick="showUniverseReal()">🌌 Universo Real</button>
    <button class="nav-menu-item" onclick="toggleMusic()">🎵 Música</button>
  </div>
  
  <div class="nav-overlay" id="navOverlay"></div>

  <!-- PANTALLA DE BIENVENIDA -->
  <div id="welcomeScreen" class="screen active">
    <h1 class="welcome-title">✨ Para Wilmagy ✨</h1>
    <p class="subtitle">Un universo completo contenido en una persona extraordinaria</p>
    <button class="start-button" onclick="showUniverse()">
      🌟 Comenzar el Viaje 🌟
    </button>
  </div>

  <!-- PANTALLA DEL UNIVERSO MAGY - MEJORADA -->
  <div id="universeScreen" class="screen">
    <div class="stars-background"></div>
    <div class="universe-content">
      <h1 class="cosmic-title">🌌 Génesis de Magy 🌌</h1>
      <div class="universe-poem">
        Antes del tiempo, antes del verbo primero,<br>
        solo existía el eco de tu nombre verdadero.<br>
        "Wilmagy", susurró la nada, y al pronunciar su hechizo,<br>
        un big bang de pecas doradas inició un destello.<br><br>
        
        Cada peca, una chispa, un sol recién nacido,<br>
        en la piel morena del cosmos, su fuego ha encendido.<br>
        Tu cabello rojizo se expandió en la distancia,<br>
        formando nebulosas de ardiente elegancia.<br><br>
        
        Tu risa fue la fuerza que juntó los planetas,<br>
        y el ritmo de tu paso ordenó los cometas.<br>
        Las constelaciones, que los astrónomos admiran,<br>
        son solo el reflejo de las estrellas que en tus ojos miran.
      </div>
      <button class="next-button" onclick="showConstellation()">
        🌟 Explorar las Constelaciones 🌟
      </button>
    </div>
  </div>

  <!-- PANTALLA DE CONSTELACIONES -->
  <div id="constellationScreen" class="screen">
    <h1 class="constellation-title">✨ Las Constelaciones de Wilmagy ✨</h1>
    
    <div class="constellation-grid">
      <div class="constellation-card">
        <div class="constellation-icon">💪</div>
        <div class="constellation-card-title">Constelación de la Fuerza</div>
        <div class="constellation-description">
          Como el roble inquebrantable, anclada en tierra que ha sido azotada por el viento. 
          Te paras frente a la tormenta con una entereza que deslumbraría a muchos.
        </div>
      </div>
      
      <div class="constellation-card">
        <div class="constellation-icon">🌸</div>
        <div class="constellation-card-title">Constelación de la Sensibilidad</div>
        <div class="constellation-description">
          Un corazón como pétalo de cristal que capta cada susurro del mundo, 
          cada sombra, cada herida. Tu vulnerabilidad es tu humanidad más pura.
        </div>
      </div>
      
      <div class="constellation-card">
        <div class="constellation-icon">🔥</div>
        <div class="constellation-card-title">Constelación de la Sinceridad</div>
        <div class="constellation-description">
          Directa, clara como el mediodía. Tu sinceridad corta cualquier falsedad 
          con la elegancia de una guerrera que no cree portar armadura.
        </div>
      </div>
      
      <div class="constellation-card">
        <div class="constellation-icon">📚</div>
        <div class="constellation-card-title">Constelación del Misterio</div>
        <div class="constellation-description">
          Un libro escrito en idioma antiguo y sagrado, con capítulos que prefieres 
          mantener entre paréntesis. Tu silencio elocuente es música para el alma.
        </div>
      </div>
      
      <div class="constellation-card">
        <div class="constellation-icon">🌟</div>
        <div class="constellation-card-title">Constelación de la Luz</div>
        <div class="constellation-description">
          La LUZ que no teme a la OSCURIDAD porque sabe que es en la noche 
          donde las estrellas brillan con más fuerza. Eres luz pura.
        </div>
      </div>
      
      <div class="constellation-card">
        <div class="constellation-icon">🎨</div>
        <div class="constellation-card-title">Constelación del Arte</div>
        <div class="constellation-description">
          Una obra de arte compuesta de contrastes. No a pesar de tus contradicciones, 
          sino precisamente por ellas. Eres especial, única, irrepetible.
        </div>
      </div>
    </div>
    
    <button class="next-button" onclick="showPhoto()">
      📸 Revelar la Esencia Visual 📸
    </button>
  </div>

  <!-- PANTALLA DE FOTO MÁGICA -->
  <div id="photoScreen" class="screen">
    <h1 class="photo-title">✨ La Esencia del Universo ✨</h1>
    
    <div class="magic-photo-container">
      <div class="photo-frame">
        <!-- FOTO -->
        <img src="https://lh3.googleusercontent.com/pw/AP1GczMTfFFt2eteZxm7qXWkKN6dy901WEXaBTOe5IHjKAu_Z-bxTVWnDZNOtbKzuvIHMX-LtgeLHh_XaOD8zNuWQkbAcXpc20mYqeRbGnTAvysixGBtf7wKeAyE-kWLe1nRqcrdfBloCWevdZA4wK52R--25A=w904-h508-s-no-gm" 
             alt="Wilmagy - La Esencia del Universo" 
             class="magic-photo">
        <div class="photo-sparkles">
          <div class="photo-sparkle" style="animation-delay: 0s;">✨</div>
          <div class="photo-sparkle" style="animation-delay: 1s;">🌟</div>
          <div class="photo-sparkle" style="animation-delay: 2s;">💫</div>
          <div class="photo-sparkle" style="animation-delay: 3s;">⭐</div>
          <div class="photo-sparkle" style="animation-delay: 4s;">🌠</div>
          <div class="photo-sparkle" style="animation-delay: 5s;">✨</div>
        </div>
      </div>
    </div>
    
    <div class="photo-description">
      <p>
        En cada rasgo, en cada expresión, se revela la complejidad y belleza del cosmos. 
        Eres la creadora y el mapa, la primera causa, la más bella de todas las constelaciones.
        En tu rostro, el universo encuentra su razón de ser.
      </p>
    </div>
    
    <button class="next-button" onclick="showWritings()">
      📝 Mis escritos más secretos 📝
    </button>
  </div>

  <!-- PANTALLA DE ESCRITOS -->
  <div id="writingsScreen" class="screen">
    <div class="writings-container">
      <h1 class="writings-title">📜 Desde lo que inspiras 📜</h1>
      
      <div class="writing-card">
        <div class="writing-title">💝 Mapa del Alma</div>
        <div class="writing-content">Magy, si las palabras tuvieran la textura del alma, tejería para ti un mapa de todo lo que eres. No es un halago, es una verdad que resuena en mi pecho cada vez que cruzas mi pensamiento.

Hay una fuerza en ti que es como el roble, fuerte e inquebrantable, anclada en una tierra que ha sido azotada por el viento. Te paras frente a la tormenta con una entereza que a muchos deslumbraría, pero que tú, en tu humildad, no logras ver. Esa es la primera de tus muchas paradojas: la de una guerrera que no cree portar armadura.

Y sin embargo, bajo esa fortaleza, late el corazón más sensible y delicado que he conocido. Es como un pétalo de cristal que capta cada susurro del mundo, cada sombra, cada herida pasada que se niega a cerrar. Esa debilidad que a veces maldices, esa vulnerabilidad que intentas ocultar tras un silencio elocuente o una sonrisa pronta, es precisamente lo que te hace valiosa.

Por eso te digo, con la certeza que da el haber mirado más allá de la superficie: eres increíble. Una obra de arte compuesta de contrastes. La luz que no teme a la oscuridad porque sabe que es en la noche donde las estrellas brillan con más fuerza.</div>
      </div>
      
      <div class="writing-card poem-card">
        <div class="writing-title">🚀 Más allá del descubrimiento</div>
        <div class="writing-content">Al igual que Armstrong llegó a la luna,
y pisó su polvo gris con paso firme,
un nuevo viaje planea mi fortuna:
llegar al mar de ti, que late y gira.

No busco conquistarte, ni dejar bandera,
mi ambición no es de gloria o de historia fría;
mi nave es de suspiros, y mi carrera
un impulso constante de poesía hoy día.

Él halló un desolado Mar de la Tranquilidad,
yo busco el océano de tu corazón,
donde la vida estalla en su totalidad
y el amor no es un frío fragmento de canción.

Porque tu corazón no es un simple astro, es un sistema completo,
con mareas de risa y tormentas de alegría sincera.
Pisar su orilla es un noble reto,
y habitarlo, la gloria eterna.

Así como aquel paso fue "un pequeño paso para un hombre",
llegar a Wilmagy, es el universo para mí.
El viaje verdadero, un buen plan:
no solo llegar... sino quedarme aquí.</div>
      </div>
      
      <div class="writing-card">
        <div class="writing-title">🌠 Al igual que el Bing Bang</div>
        <div class="writing-content">Eres constelación de fortaleza y ternura,
un mapa estelar de rara hermosura.
Cada peca tuya es un sol recién nacido,
en la piel morena del cosmos encendido.

Tu risa ordena planetas y cometas,
tu mirada ilumina nebulosas secretas.
Eres un big bang de esperanza y valor,
la creación más bella, el mejor favor.

Que el universo te devuelva en kind,
todo el amor y la luz que repartes sin fin.
Eres especial, única, sin igual,
la constelación más brillante, el mejor final.</div>
      </div>
      
      <button class="next-button" onclick="showMemories()">
        🕰️ Línea del Tiempo 🕰️
      </button>
    </div>
  </div>

  <!-- RECUERDOS -->
  <div id="memoriesScreen" class="screen">
    <div class="memories-container">
      <h1 class="memories-title">🕰️ Línea del Tiempo Especial</h1>
      
      <div class="memory-timeline">
        <div class="memory-item">
          <div class="memory-date">Primer Encuentro</div>
          <div class="memory-content">El momento en que el universo conspiró para que nuestros caminos se cruzaran, y supe que había encontrado a alguien extraordinaria.</div>
        </div>
        
        <div class="memory-item">
          <div class="memory-date">Descubrimiento Mutuo</div>
          <div class="memory-content">Cada conversación revelaba nuevas capas de tu ser, como deshojando una flor cósmica con pétalos infinitos.</div>
        </div>
        
        <div class="memory-item">
          <div class="memory-date">Momentos Compartidos</div>
          <div class="memory-content">Risas, conversaciones profundas y esos instantes donde el tiempo parecía detenerse para celebrar cada día, cada noche, esta vida...</div>
        </div>
        
        <div class="memory-item">
          <div class="memory-date">Reconocimiento</div>
          <div class="memory-content">El día que comprendí la profundidad de tu ser y la fortuna que tengo de conocerte.</div>
        </div>
      </div>
      
      <button class="next-button" onclick="showMessages()">
        💌 Mensajes de mi Corazón 💌
      </button>
    </div>
  </div>

  <!-- PANTALLA DE MENSAJES INTERACTIVOS - MEJORADA -->
  <div id="messagesScreen" class="screen">
    <h1 class="messages-title">💌 Mensajes Especiales para Ti 💌</h1>
    
    <div class="message-selector">
      <button class="message-button" onclick="showMessage(0, this)">💪 Fortaleza</button>
      <button class="message-button" onclick="showMessage(1, this)">🌸 Ternura</button>
      <button class="message-button" onclick="showMessage(2, this)">🎯 Propósito</button>
      <button class="message-button" onclick="showMessage(3, this)">✨ Magia</button>
      <button class="message-button" onclick="showMessage(4, this)">🌌 Universo</button>
    </div>
    
    <div class="message-display" id="messageDisplay">
      <div style="font-size: 2.5rem; margin-bottom: 20px;">🌟</div>
      <p>Selecciona un mensaje arriba para descubrir algo especial...</p>
    </div>
    
    <button class="next-button" onclick="showFinal()">
      🎉 Conclusión Mágica 🎉
    </button>
  </div>

  <!-- PANTALLA FINAL - MEJORADA -->
  <div id="finalScreen" class="screen">
    <div class="final-content">
      <h1 class="final-title">✨ Desde lo más profundo te digo.. ✨</h1>
      
      <p class="final-text">
        No permitas que los fantasmas de ayer nublen el sol de tu hoy. 
        Llora si es necesario, pero deje que tus lágrimas rieguen la semilla de tu propia resiliencia. 
        Ríe con todo tu cuerpo, que tu alegría sea un himno que derrumbe cualquier muralla.
      </p>
      
      <p class="final-highlight">
        <strong>Espera todo, exige todo, mereces el universo y como tú, sus constelaciones.</strong>
      </p>
      
      <p class="final-text">
        Porque al final, todo esto se resume en una verdad simple y profunda que repito no por costumbre, sino por convicción:
        Eres especial. No a pesar de tus contradicciones, sino precisamente por ellas.
      </p>
      
      <div class="final-signature">
        Con cariño 💖<br>
        <span style="color: #ff69b4;">Feeliz cumpleaños Magy</span>
      </div>
    </div>
    
    <button class="next-button" onclick="showUniverseReal()">
      🌌 Explorar el Universo Real 🌌
    </button>
  </div>

  <!-- NUEVA PANTALLA: UNIVERSO -->
  <div id="universeRealScreen" class="screen universe-real-screen">
    <div class="universe-canvas-container">
      <canvas id="universeCanvas" class="universe-canvas"></canvas>
    </div>
    
    <h1 class="universe-title">✨ El Universo de Wilmagy ✨</h1>
  </div>

  <!-- AUDIO PARA MÚSICA DE FONDO -->
  <audio id="backgroundMusic" loop>
    <source src="https://youtu.be/l3qd-3po3xU?si=BglpseUESQdQI-Ss" type="audio/mpeg">
    Tu navegador no soporta el elemento de audio.
  </audio>

  <!-- EFECTOS DE SONIDO -->
  <audio id="clickSound" preload="auto">
    <source src="https://assets.mixkit.co/sfx/preview/mixkit-select-click-1109.mp3" type="audio/mpeg">
  </audio>
  
  <audio id="sparkleSound" preload="auto">
    <source src="https://assets.mixkit.co/sfx/preview/mixkit-magic-sparkle-sound-3091.mp3" type="audio/mpeg">
  </audio>

  <script>
    // Sistema de navegación mejorado
    const screens = [
      'welcomeScreen', 'universeScreen', 'constellationScreen', 
      'photoScreen', 'writingsScreen', 'memoriesScreen', 
      'messagesScreen', 'finalScreen', 'universeRealScreen'
    ];
    let currentScreen = 0;
    let musicPlaying = false;
    const backgroundMusic = document.getElementById('backgroundMusic');
    const clickSound = document.getElementById('clickSound');
    const sparkleSound = document.getElementById('sparkleSound');
    
    // Control de navegación
    const navToggle = document.getElementById('navToggle');
    const navMenu = document.getElementById('navMenu');
    const navOverlay = document.getElementById('navOverlay');
    
    navToggle.addEventListener('click', toggleNav);
    navOverlay.addEventListener('click', toggleNav);
    
    function toggleNav() {
      navMenu.classList.toggle('active');
      navOverlay.classList.toggle('active');
      
      // Cambiar ícono del botón
      const icon = navToggle.querySelector('.nav-toggle-icon');
      if (navMenu.classList.contains('active')) {
        icon.textContent = '✕';
      } else {
        icon.textContent = '☰';
      }
    }
    
    // Crear partículas cósmicas mejoradas
    function createCosmicParticles() {
      const container = document.querySelector('.cosmic-particles');
      setInterval(() => {
        const particle = document.createElement('div');
        particle.classList.add('particle');
        const particles = ['✨', '🌟', '💫', '⭐', '🌠'];
        particle.textContent = particles[Math.floor(Math.random() * particles.length)];
        particle.style.left = Math.random() * 100 + 'vw';
        particle.style.animationDuration = (Math.random() * 3 + 3) + 's';
        particle.style.fontSize = (Math.random() * 8 + 8) + 'px';
        container.appendChild(particle);
        setTimeout(() => particle.remove(), 6000);
      }, 300);
    }
    
    createCosmicParticles();
    
    // Crear estrellas en el fondo del universo
    function createStars() {
      const starsContainer = document.querySelector('.stars-background');
      if (starsContainer) {
        starsContainer.innerHTML = '';
        for (let i = 0; i < 100; i++) {
          const star = document.createElement('div');
          star.classList.add('star');
          star.style.left = Math.random() * 100 + '%';
          star.style.top = Math.random() * 100 + '%';
          star.style.animationDelay = Math.random() * 4 + 's';
          star.style.animationDuration = (Math.random() * 3 + 2) + 's';
          starsContainer.appendChild(star);
        }
      }
    }
    
    // Control de música
    document.getElementById('musicControl').addEventListener('click', toggleMusic);
    
    function toggleMusic() {
      playSound(clickSound);
      if (musicPlaying) {
        backgroundMusic.pause();
        document.querySelector('.music-icon').textContent = '🎵';
      } else {
        backgroundMusic.play().catch(e => console.log("Error reproduciendo música: ", e));
        document.querySelector('.music-icon').textContent = '🔊';
      }
      musicPlaying = !musicPlaying;
    }
    
    // Reproducir efectos de sonido
    function playSound(sound) {
      sound.currentTime = 0;
      sound.play().catch(e => console.log("Error reproduciendo sonido: ", e));
    }
    
    // Funciones de navegación mejoradas
    function showScreen(screenId) {
      playSound(clickSound);
      
      // Cerrar menú de navegación si está abierto
      if (navMenu.classList.contains('active')) {
        toggleNav();
      }
      
      document.querySelectorAll('.screen').forEach(s => {
        s.classList.remove('active');
      });
      
      setTimeout(() => {
        document.getElementById(screenId).classList.add('active');
        currentScreen = screens.indexOf(screenId);
        
        // Efectos especiales según la pantalla
        if (screenId === 'universeScreen') {
          setTimeout(createStars, 100);
        }
        
        if (screenId === 'photoScreen') {
          playSound(sparkleSound);
        }
        
        if (screenId === 'universeRealScreen') {
          initUniverse();
        }
        
        // Scroll suave hacia la parte superior
        window.scrollTo({ top: 0, behavior: 'smooth' });
      }, 300);
    }
    
    function showUniverse() {
      showScreen('universeScreen');
    }
    
    function showConstellation() {
      showScreen('constellationScreen');
    }
    
    function showPhoto() {
      showScreen('photoScreen');
    }
    
    function showWritings() {
      showScreen('writingsScreen');
    }
    
    function showMemories() {
      showScreen('memoriesScreen');
    }
    
    function showMessages() {
      showScreen('messagesScreen');
    }
    
    function showFinal() {
      showScreen('finalScreen');
    }
    
    function showUniverseReal() {
      showScreen('universeRealScreen');
    }
    
    function nextScreen() {
      if (currentScreen < screens.length - 1) {
        currentScreen++;
        showScreen(screens[currentScreen]);
      }
    }
    
    function previousScreen() {
      if (currentScreen > 0) {
        currentScreen--;
        showScreen(screens[currentScreen]);
      }
    }
    
    function goHome() {
      showScreen('welcomeScreen');
      currentScreen = 0;
    }
    
    function restartJourney() {
      goHome();
    }
    
    // Sistema de mensajes interactivos
    const messages = [
      {
        icon: "💪",
        title: "Tu Fuerza Interior",
        content: "Hay una fuerza en ti que es como el roble, fuerte e inquebrantable. Te paras frente a la tormenta con una entereza que deslumbraría a muchos. Eres una guerrera, aunque no creas portar armadura."
      },
      {
        icon: "🌸",
        title: "Tu Sensibilidad Única",
        content: "Bajo tu fortaleza late el corazón más sensible y delicado. Como un pétalo de cristal que capta cada susurro del mundo. Esa vulnerabilidad es precisamente lo que te hace valiosa y humana."
      },
      {
        icon: "🎯",
        title: "Tu Propósito",
        content: "Eres directa, clara como el mediodía. Tu sinceridad corta cualquier falsedad. Eres un libro escrito en idioma sagrado, con capítulos enteros de sabiduría que el mundo necesita descubrir."
      },
      {
        icon: "✨",
        title: "La Magia que Eres",
        content: "Eres la cosmología, el origen del sueño, el universo entero late en tu pequeño centro. La creadora y el mapa, la primera causa, la más bella de todas las constelaciones."
      },
      {
        icon: "🌌",
        title: "Tu Universo Interior",
        content: "Cada parte de ti es una galaxia, cada pensamiento una estrella. Eres un cosmos completo, lleno de misterios y maravillas por descubrir. El universo se refleja en tu esencia."
      }
    ];
    
    function showMessage(index, button) {
      playSound(clickSound);
      // Remover active de todos los botones
      document.querySelectorAll('.message-button').forEach(btn => btn.classList.remove('active'));
      // Agregar active al botón seleccionado
      button.classList.add('active');
      
      const message = messages[index];
      const display = document.getElementById('messageDisplay');
      
      display.style.opacity = 0;
      
      setTimeout(() => {
        display.innerHTML = `
          <div style="font-size: 3rem; margin-bottom: 20px; animation: messageAppear 0.5s ease-out;">${message.icon}</div>
          <h3 style="font-size: 1.8rem; color: #ffd700; margin-bottom: 20px; animation: messageAppear 0.5s ease-out 0.2s both;">${message.title}</h3>
          <p style="font-size: 1.3rem; line-height: 1.6; animation: messageAppear 0.5s ease-out 0.4s both;">${message.content}</p>
        `;
        
        display.style.opacity = 1;
      }, 300);
    }
    
    // Efectos de interacción adicionales
    document.querySelectorAll('.constellation-card').forEach(card => {
      card.addEventListener('click', () => {
        playSound(clickSound);
        card.style.transform = 'translateY(-5px) scale(1.02)';
        setTimeout(() => {
          card.style.transform = '';
        }, 300);
      });
    });
    
    // Efecto especial en la foto
    const photoFrame = document.querySelector('.photo-frame');
    if (photoFrame) {
      photoFrame.addEventListener('click', () => {
        playSound(sparkleSound);
        photoFrame.style.animation = 'none';
        photoFrame.style.transform = 'scale(1.05) rotate(5deg)';
        photoFrame.style.boxShadow = '0 0 60px rgba(255,215,0,0.8)';
        
        setTimeout(() => {
          photoFrame.style.transform = '';
          photoFrame.style.boxShadow = '0 0 50px rgba(255,215,0,0.6)';
          photoFrame.style.animation = 'photoFloat 6s ease-in-out infinite';
        }, 1000);
      });
    }
    
    // Efectos en la línea de tiempo
    document.querySelectorAll('.memory-item').forEach(item => {
      item.addEventListener('click', () => {
        playSound(clickSound);
        item.style.transform = 'translateY(-5px) scale(1.02)';
        setTimeout(() => {
          item.style.transform = '';
        }, 300);
      });
    });
    
    // Efectos en las tarjetas de escritos
    document.querySelectorAll('.writing-card').forEach(card => {
      card.addEventListener('click', () => {
        playSound(clickSound);
        card.style.transform = 'translateY(-3px) scale(1.01)';
        setTimeout(() => {
          card.style.transform = '';
        }, 300);
      });
    });
    
    // SISTEMA DE UNIVERSO
    let universeAnimationId = null;
    let universeObjects = {};
    
    function initUniverse() {
      if (universeAnimationId) {
        cancelAnimationFrame(universeAnimationId);
        universeAnimationId = null;
      }
      
      const canvas = document.getElementById('universeCanvas');
      const ctx = canvas.getContext('2d');
      
      // Ajustar tamaño del canvas
      function resizeCanvas() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
      }
      
      resizeCanvas();
      window.addEventListener('resize', resizeCanvas);
      
      // Crear universo inicial
      createEnchantedUniverse(canvas, ctx);
      
      // Iniciar animación
      animateUniverse(canvas, ctx);
    }
    
    function createEnchantedUniverse(canvas, ctx) {
      // Limpiar objetos anteriores
      universeObjects = {
        stars: [],
        planets: [],
        constellations: [],
        nebulae: [],
        comets: []
      };
      
      // Crear sol (estrella central) - más cálido y dorado
      universeObjects.sun = {
        x: canvas.width / 2,
        y: canvas.height / 2,
        radius: 70,
        color: '#FFD700',
        glow: true,
        glowColor: 'rgba(255, 215, 0, 0.4)',
        glowRadius: 180,
        pulseSpeed: 0.005,
        pulseSize: 0.1
      };
      
      // Crear luna - más suave y romántica
      universeObjects.moon = {
        x: canvas.width * 0.7,
        y: canvas.height * 0.3,
        radius: 25,
        color: '#F0F8FF',
        glow: true,
        glowColor: 'rgba(240, 248, 255, 0.3)',
        glowRadius: 70,
        phase: 0.8,
        pulseSpeed: 0.003
      };
      
      // Crear estrellas de fondo
      for (let i = 0; i < 600; i++) {
        universeObjects.stars.push({
          x: Math.random() * canvas.width,
          y: Math.random() * canvas.height,
          size: Math.random() * 2.5 + 0.5,
          brightness: Math.random() * 0.8 + 0.2,
          twinkleSpeed: Math.random() * 0.04 + 0.01,
          twinkleOffset: Math.random() * Math.PI * 2,
          color: Math.random() > 0.7 ? 
                 (Math.random() > 0.5 ? '#FFB6C1' : '#B0E0E6') : // Rosas y azules suaves
                 '#FFFFFF'
        });
      }
      
      // Crear planetas
      const planetColors = ['#FF6B6B', '#FFA07A', '#FFD700', '#98FB98', '#87CEEB', '#DDA0DD'];
      const planetNames = ['Corazón', 'Risa', 'Esperanza', 'Fuerza', 'Sueños', 'Magia'];
      
      for (let i = 0; i < 6; i++) {
        const distance = 120 + i * 70;
        const speed = 0.0003 + i * 0.00008;
        
        universeObjects.planets.push({
          x: universeObjects.sun.x + Math.cos(i * 1.2) * distance,
          y: universeObjects.sun.y + Math.sin(i * 1.2) * distance,
          radius: 8 + i * 2.5,
          color: planetColors[i],
          name: planetNames[i],
          orbitRadius: distance,
          angle: i * 1.2,
          speed: speed,
          hasRings: i === 1 || i === 4,
          ringColor: i === 1 ? '#FFB6C1' : '#DDA0DD',
          ringRadius: 12 + i * 3,
          glow: true,
          glowColor: `rgba(${parseInt(planetColors[i].slice(1,3), 16)}, ${parseInt(planetColors[i].slice(3,5), 16)}, ${parseInt(planetColors[i].slice(5,7), 16)}, 0.3)`
        });
      }
      
      // Crear constelaciones con nombres poéticos
      const constellationNames = ['Fuerza Interior', 'Risa Eterna', 'Esperanza', 'Amistad', 'Corazón Valiente', 'Sueños Dorados'];
      for (let i = 0; i < 6; i++) {
        const constellation = {
          name: constellationNames[i],
          stars: [],
          lines: [],
          color: `hsl(${i * 60}, 70%, 70%)`
        };
        
        const baseX = Math.random() * canvas.width * 0.8 + canvas.width * 0.1;
        const baseY = Math.random() * canvas.height * 0.8 + canvas.height * 0.1;
        
        for (let j = 0; j < 4 + Math.floor(Math.random() * 3); j++) {
          constellation.stars.push({
            x: baseX + (Math.random() - 0.5) * 180,
            y: baseY + (Math.random() - 0.5) * 180,
            size: Math.random() * 2.5 + 1.5,
            brightness: Math.random() * 0.6 + 0.4,
            pulse: Math.random() * 0.02 + 0.01
          });
        }
        
        // Crear patrones de constelación más orgánicos
        for (let j = 0; j < constellation.stars.length - 1; j++) {
          for (let k = j + 1; k < constellation.stars.length; k++) {
            if (Math.random() > 0.6) {
              constellation.lines.push({
                from: j,
                to: k
              });
            }
          }
        }
        
        universeObjects.constellations.push(constellation);
      }
      
      // Crear nebulosas mágicas
      for (let i = 0; i < 4; i++) {
        universeObjects.nebulae.push({
          x: Math.random() * canvas.width,
          y: Math.random() * canvas.height,
          radius: Math.random() * 120 + 80,
          color: `hsla(${Math.random() * 60 + 200}, 70%, 60%, 0.03)`,
          pulseSpeed: Math.random() * 0.002 + 0.001,
          particles: []
        });
        
        // Agregar partículas a la nebulosa
        for (let j = 0; j < 30; j++) {
          universeObjects.nebulae[i].particles.push({
            x: universeObjects.nebulae[i].x + (Math.random() - 0.5) * universeObjects.nebulae[i].radius * 2,
            y: universeObjects.nebulae[i].y + (Math.random() - 0.5) * universeObjects.nebulae[i].radius * 2,
            size: Math.random() * 2 + 1,
            speed: Math.random() * 0.3 + 0.1,
            angle: Math.random() * Math.PI * 2,
            color: `hsla(${Math.random() * 60 + 200}, 70%, 60%, ${Math.random() * 0.15 + 0.05})`
          });
        }
      }
      
      // Crear cometas mágicos
      for (let i = 0; i < 3; i++) {
        universeObjects.comets.push({
          x: Math.random() * canvas.width,
          y: Math.random() * canvas.height,
          speedX: (Math.random() - 0.5) * 2,
          speedY: (Math.random() - 0.5) * 2,
          size: Math.random() * 3 + 2,
          trail: [],
          maxTrail: 20,
          color: `hsl(${Math.random() * 60 + 30}, 100%, 70%)`
        });
      }
    }
    
    function animateUniverse(canvas, ctx) {
      // Limpiar canvas con un fondo espacial más cálido
      ctx.fillStyle = 'rgba(10, 15, 40, 0.3)';
      ctx.fillRect(0, 0, canvas.width, canvas.height);
      
      const { sun, moon, stars, planets, constellations, nebulae, comets } = universeObjects;
      
      // Dibujar nebulosas primero (fondo)
      for (const nebula of nebulae) {
        // Efecto de pulsación
        const pulse = Math.sin(Date.now() * nebula.pulseSpeed) * 0.2 + 0.8;
        
        ctx.beginPath();
        ctx.arc(nebula.x, nebula.y, nebula.radius * pulse, 0, Math.PI * 2);
        
        const gradient = ctx.createRadialGradient(
          nebula.x, nebula.y, 0,
          nebula.x, nebula.y, nebula.radius * pulse
        );
        gradient.addColorStop(0, nebula.color);
        gradient.addColorStop(1, 'rgba(10, 15, 40, 0)');
        
        ctx.fillStyle = gradient;
        ctx.fill();
        
        // Dibujar partículas de la nebulosa
        for (const particle of nebula.particles) {
          particle.angle += particle.speed * 0.01;
          particle.x = nebula.x + Math.cos(particle.angle) * nebula.radius * 0.8;
          particle.y = nebula.y + Math.sin(particle.angle) * nebula.radius * 0.8;
          
          ctx.beginPath();
          ctx.arc(particle.x, particle.y, particle.size, 0, Math.PI * 2);
          ctx.fillStyle = particle.color;
          ctx.fill();
        }
      }
      
      // Dibujar estrellas
      for (const star of stars) {
        const twinkle = Math.sin(Date.now() * star.twinkleSpeed + star.twinkleOffset) * 0.4 + 0.6;
        const brightness = star.brightness * twinkle;
        
        ctx.beginPath();
        ctx.arc(star.x, star.y, star.size, 0, Math.PI * 2);
        ctx.fillStyle = star.color.replace(')', `, ${brightness})`).replace('rgb', 'rgba');
        ctx.fill();
        
        // Efecto de brillo para estrellas grandes
        if (star.size > 1.5) {
          const gradient = ctx.createRadialGradient(
            star.x, star.y, 0,
            star.x, star.y, star.size * 3
          );
          gradient.addColorStop(0, star.color.replace(')', `, ${brightness * 0.4})`).replace('rgb', 'rgba'));
          gradient.addColorStop(1, 'rgba(255, 255, 255, 0)');
          
          ctx.beginPath();
          ctx.arc(star.x, star.y, star.size * 3, 0, Math.PI * 2);
          ctx.fillStyle = gradient;
          ctx.fill();
        }
      }
      
      // Dibujar constelaciones
      for (const constellation of constellations) {
        // Dibujar líneas de la constelación con efecto de brillo
        ctx.strokeStyle = constellation.color;
        ctx.lineWidth = 1.5;
        ctx.shadowBlur = 10;
        ctx.shadowColor = constellation.color;
        
        for (const line of constellation.lines) {
          const fromStar = constellation.stars[line.from];
          const toStar = constellation.stars[line.to];
          
          ctx.beginPath();
          ctx.moveTo(fromStar.x, fromStar.y);
          ctx.lineTo(toStar.x, toStar.y);
          ctx.stroke();
        }
        
        ctx.shadowBlur = 0;
        
        // Dibujar estrellas de la constelación (más brillantes y con pulsación)
        for (const star of constellation.stars) {
          const pulse = Math.sin(Date.now() * star.pulse) * 0.3 + 0.7;
          
          ctx.beginPath();
          ctx.arc(star.x, star.y, star.size * pulse, 0, Math.PI * 2);
          
          const gradient = ctx.createRadialGradient(
            star.x, star.y, 0,
            star.x, star.y, star.size * 2
          );
          gradient.addColorStop(0, `rgba(255, 255, 255, ${star.brightness})`);
          gradient.addColorStop(1, 'rgba(255, 255, 255, 0)');
          
          ctx.fillStyle = gradient;
          ctx.fill();
        }
      }
      
      // Actualizar y dibujar cometas
      for (const comet of comets) {
        // Actualizar posición
        comet.x += comet.speedX;
        comet.y += comet.speedY;
        
        // Rebotar en los bordes
        if (comet.x < 0 || comet.x > canvas.width) comet.speedX *= -1;
        if (comet.y < 0 || comet.y > canvas.height) comet.speedY *= -1;
        
        // Actualizar estela
        comet.trail.unshift({x: comet.x, y: comet.y});
        if (comet.trail.length > comet.maxTrail) comet.trail.pop();
        
        // Dibujar estela
        ctx.strokeStyle = comet.color;
        ctx.lineWidth = 1;
        ctx.beginPath();
        ctx.moveTo(comet.trail[0].x, comet.trail[0].y);
        
        for (let i = 1; i < comet.trail.length; i++) {
          ctx.lineTo(comet.trail[i].x, comet.trail[i].y);
        }
        ctx.stroke();
        
        // Dibujar cabeza del cometa
        ctx.beginPath();
        ctx.arc(comet.x, comet.y, comet.size, 0, Math.PI * 2);
        ctx.fillStyle = comet.color;
        ctx.fill();
      }
      
      // Actualizar y dibujar planetas (sin órbitas visibles)
      for (const planet of planets) {
        // Actualizar posición del planeta
        planet.angle += planet.speed;
        planet.x = sun.x + Math.cos(planet.angle) * planet.orbitRadius;
        planet.y = sun.y + Math.sin(planet.angle) * planet.orbitRadius;
        
        // Efecto de pulsación suave
        const pulse = Math.sin(Date.now() * 0.002) * 0.1 + 0.9;
        
        // Dibujar planeta
        ctx.beginPath();
        ctx.arc(planet.x, planet.y, planet.radius * pulse, 0, Math.PI * 2);
        
        const gradient = ctx.createRadialGradient(
          planet.x, planet.y, 0,
          planet.x, planet.y, planet.radius * pulse
        );
        gradient.addColorStop(0, planet.color);
        gradient.addColorStop(0.7, planet.color);
        gradient.addColorStop(1, '#2F2F2F');
        
        ctx.fillStyle = gradient;
        ctx.fill();
        
        // Brillo del planeta
        if (planet.glow) {
          const glowGradient = ctx.createRadialGradient(
            planet.x, planet.y, 0,
            planet.x, planet.y, planet.radius * 2
          );
          glowGradient.addColorStop(0, planet.glowColor);
          glowGradient.addColorStop(1, 'rgba(0,0,0,0)');
          
          ctx.beginPath();
          ctx.arc(planet.x, planet.y, planet.radius * 2, 0, Math.PI * 2);
          ctx.fillStyle = glowGradient;
          ctx.fill();
        }
        
        // Dibujar anillos si el planeta los tiene
        if (planet.hasRings) {
          ctx.strokeStyle = planet.ringColor;
          ctx.lineWidth = 2;
          ctx.beginPath();
          ctx.ellipse(planet.x, planet.y, planet.ringRadius, planet.ringRadius * 0.2, planet.angle, 0, Math.PI * 2);
          ctx.stroke();
        }
        
        // Nombre del planeta (solo en dispositivos grandes)
        if (canvas.width > 768) {
          ctx.font = '12px Arial';
          ctx.fillStyle = 'rgba(255,255,255,0.7)';
          ctx.textAlign = 'center';
          ctx.fillText(planet.name, planet.x, planet.y + planet.radius + 15);
        }
      }
      
      // Dibujar luna con efecto de pulsación
      const moonPulse = Math.sin(Date.now() * moon.pulseSpeed) * 0.1 + 0.9;
      
      ctx.beginPath();
      ctx.arc(moon.x, moon.y, moon.radius * moonPulse, 0, Math.PI * 2);
      
      const moonGradient = ctx.createRadialGradient(
        moon.x, moon.y, 0,
        moon.x, moon.y, moon.radius * moonPulse
      );
      moonGradient.addColorStop(0, moon.color);
      moonGradient.addColorStop(0.8, '#C0C0C0');
      moonGradient.addColorStop(1, '#2F4F4F');
      
      ctx.fillStyle = moonGradient;
      ctx.fill();
      
      // Dibujar fase lunar
      ctx.fillStyle = 'rgba(10, 15, 40, 0.9)';
      ctx.beginPath();
      ctx.ellipse(
        moon.x + moon.radius * (1 - moon.phase) * 2, 
        moon.y, 
        moon.radius * (1 - moon.phase) * moonPulse, 
        moon.radius * moonPulse, 
        0, 0, Math.PI * 2
      );
      ctx.fill();
      
      // Dibujar brillo de la luna
      if (moon.glow) {
        const glowGradient = ctx.createRadialGradient(
          moon.x, moon.y, 0,
          moon.x, moon.y, moon.glowRadius
        );
        glowGradient.addColorStop(0, moon.glowColor);
        glowGradient.addColorStop(1, 'rgba(240, 248, 255, 0)');
        
        ctx.beginPath();
        ctx.arc(moon.x, moon.y, moon.glowRadius, 0, Math.PI * 2);
        ctx.fillStyle = glowGradient;
        ctx.fill();
      }
      
      // Dibujar sol con efecto de pulsación
      const sunPulse = Math.sin(Date.now() * sun.pulseSpeed) * sun.pulseSize + 1;
      
      ctx.beginPath();
      ctx.arc(sun.x, sun.y, sun.radius * sunPulse, 0, Math.PI * 2);
      
      const sunGradient = ctx.createRadialGradient(
        sun.x, sun.y, 0,
        sun.x, sun.y, sun.radius * sunPulse
      );
      sunGradient.addColorStop(0, '#FFFFFF');
      sunGradient.addColorStop(0.6, sun.color);
      sunGradient.addColorStop(1, '#FF8C00');
      
      ctx.fillStyle = sunGradient;
      ctx.fill();
      
      // Dibujar brillo del sol
      if (sun.glow) {
        const glowGradient = ctx.createRadialGradient(
          sun.x, sun.y, 0,
          sun.x, sun.y, sun.glowRadius * sunPulse
        );
        glowGradient.addColorStop(0, sun.glowColor);
        glowGradient.addColorStop(1, 'rgba(255, 215, 0, 0)');
        
        ctx.beginPath();
        ctx.arc(sun.x, sun.y, sun.glowRadius * sunPulse, 0, Math.PI * 2);
        ctx.fillStyle = glowGradient;
        ctx.fill();
      }
      
      universeAnimationId = requestAnimationFrame(() => animateUniverse(canvas, ctx));
    }
    
    // Detener animación cuando se cambia de pantalla
    function stopUniverseAnimation() {
      if (universeAnimationId) {
        cancelAnimationFrame(universeAnimationId);
        universeAnimationId = null;
      }
    }
    
    // Modificar la función showScreen para detener la animación cuando se sale del universo
    const originalShowScreen = showScreen;
    showScreen = function(screenId) {
      // Si estamos saliendo de la pantalla del universo, detener la animación
      if (currentScreen === screens.indexOf('universeRealScreen') && screenId !== 'universeRealScreen') {
        stopUniverseAnimation();
      }
      originalShowScreen(screenId);
    };
    
    // Inicializar
    window.addEventListener('load', () => {
      setTimeout(() => {
        if (!musicPlaying) {
          toggleMusic();
        }
      }, 2000);
    });
    
    // Eventos de teclado para navegación
    document.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowLeft') {
        previousScreen();
      } else if (e.key === 'ArrowRight') {
        nextScreen();
      } else if (e.key === 'Home' || e.key === 'Escape') {
        goHome();
      } else if (e.key === ' ') {
        toggleMusic();
      }
    });
  </script>
</body>
</html>
